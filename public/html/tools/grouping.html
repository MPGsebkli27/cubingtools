<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Competition Grouping</title>

    <meta name="description"
        content="This tool manages cubing competitions, allowing organizers to select events, manage competitors, and assign groups. The JavaScript-based interface enables streamlined event setup, efficient competitor registration, and automated group assignments based on selected parameters." />
    <meta name="keywords"
        content="cubing competition, event manager, competitor registration, group assignments, cubing events, competition, WCA, speedcubing, groupifier" />
    <meta name="author" content="CubingTools" />

    <link rel="stylesheet" href="../../css/global.css">
    <link rel="stylesheet" href="../../css/grouping.css">
    <link rel="icon" href="../../assets/cubingtools.png" type="image/x-icon">
    <link rel="apple-touch-icon" href="../../assets/apple-touch-icon.png">
</head>

<body>
    <div class="container">
        <nav>
            <a href="/" class="logo">CubingTools</a>
            <div class="navbar">
                <a href="/">Home</a>
                <a href="mailto: info@cubingtools.de">Contact</a>
                <a target="_blank" href="https://GitHub.com/MPGsebkli27/cubingtools">GitHub</a>
            </div>
        </nav>

        <div id="sidebar">
            <h2>Tools</h2>
        </div>

        <main>
            <div class="heading">
                <h1>Unofficial Competition Groupifier</h1>
                <p>
                    This is the Unofficial Competition Groupifier. To start, input the name of the competition and the
                    maximum ammount of competitors
                    that can be in one single group.
                </p>
                <p>
                    The grouping works on a round robin system. If you input a <span class="bold">WCA ID</span> as the
                    name for a competitor, the script will recognize this and use their latest Ao12 for each official
                    event to sort them. The first seed will go into the last group, the second in the second to last and
                    so on.
                </p>

                <div id="competition-setup">
                    <h2>Setup Competition</h2>
                    <label>Competition Name:<input type="text" id="competition-name"
                            placeholder="Super Cool Unofficial Competition">
                    </label>
                    <label title="Number of Competitors per Group">Maximum number of competitors per
                        group:<input type="number" id="max-competitors" placeholder="10"></label>
                    <label class="checkbox-label"><input type="checkbox" id="do-runners">Do Runners?</label>
                    <label class="checkbox-label"><input type="checkbox" id="do-judges">Do Judges?</label>
                    <button onclick="setupCompetition()">Next</button>
                </div>

                <div id="event-selection" style="display: none;">
                    <h2>Select Events</h2>
                    <p>Check all of the event you plan to host at your unofficial competition. If an event you want to
                        host
                        is
                        not here, add it with the "Add Event" button!</p>
                    <div class="inline-btn">
                        <button title="Previous Page" onclick="goToSetupCompetition()">←</button>
                        <button title="Deselect All Checkboxes" onclick="deselectAllEventCheckboxes()">Deselect
                            All</button>
                        <button title="Add a Custom Event" onclick="addCustomEvent()">Add Event</button>
                        <button title="Select All Checkboxes" onclick="selectAllEventCheckboxes()">Select All</button>
                        <button title="Next Page" onclick="selectEvents()">→</button>
                    </div>
                    <div id="event-checkboxes"></div>
                </div>

                <div id="competitor-setup" style="display: none;">
                    <h2>Add Competitors</h2>
                    <div class="inline-btn">
                        <button title="Previous Page" onclick="goToEventSelection()">←</button>
                        <button title="Deselect All Checkboxes" onclick="deselectAllEventCheckboxes()">Deselect
                            All</button>
                        <button title="Select All Checkboxes" onclick="selectAllEventCheckboxes()">Select All</button>
                        <button title="Finalize Competitors" onclick="finalizeCompetitors()">→</button>
                    </div>
                    <br>
                    <div id="competitor-form"></div>
                    <button title="Add Competitor" onclick="addCompetitor()">Add Competitor</button>
                    <!-- Competitor List Table -->
                    <div id="competitor-list-wrapper">
                        <table id="competitor-list">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Name</th>
                                    <th>Events</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Competitors will be dynamically added here -->
                            </tbody>
                        </table>
                    </div>
                </div>


                <div id="grouping-results" style="display: none;">
                    <h2>Grouping Results</h2>
                    <div id="grouping-output"></div>
                </div>
            </div>
        </main>
        <footer>
            <div class="footer-content">
                <p>Developed by <a href="mailto:sebastian@cubingtools.de">Sebastian Kling</a>, with dedication to the
                    cubing community.</p>
                <p class="hide-sm">
                    Have you encountered a bug? We appreciate your feedback! Please report it on our
                    <a target="_blank" href="https://github.com/MPGsebkli27/cubingtools/issues">GitHub issues page</a>.
                </p>
                <p class="hide-sm">
                    CubingTools.de is using the <a target="_blank"
                        href="https://wca-rest-api.robiningelbrecht.be/">Unofficial World Cube Association API</a>.
                </p>
            </div>
        </footer>
    </div>

    <div id="loadingPopup" style="display: none;">Loading...</div>

    <script src="../../js/loadTools.js"></script>
    <script src="../../js/grouping.js"></script>
</body>

</html>